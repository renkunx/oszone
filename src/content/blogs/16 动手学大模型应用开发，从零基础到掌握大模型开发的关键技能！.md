---
title: 16 动手学大模型应用开发，从零基础到掌握大模型开发的关键技能！
description: 16 动手学大模型应用开发，从零基础到掌握大模型开发的关键技能！
showGithub: true 
---

LLM 正逐步成为信息世界的新革命力量，其通过强大的自然语言理解、自然语言生成能力，为开发者提供了新的、更强大的应用开发选择。随着国内外井喷式的 LLM API 服务开放，如何基于 LLM API 快速、便捷地开发具备更强能力、集成 LLM 的应用，开始成为开发者的一项重要技能。

目前，关于 LLM 的介绍以及零散的 LLM 开发技能课程已有不少，但质量参差不齐，且没有很好地整合，开发者需要搜索大量教程并阅读大量相关性不强、必要性较低的内容，才能初步掌握大模型开发的必备技能，学习效率低，学习门槛也较高。

## 动手学大模型应用开发

Github开源教程[「动手学大模型应用开发」](https://linklearner.com/lesson/11eee795-2d34-ce9a-abce-00ffd44c5a68/details/11eee795-2d3b-6936-9f10-00ffd44c5a68 '动手学大模型应用开发')从实践出发，结合最常见、通用的个人知识库助手项目，深入浅出逐步拆解 LLM 开发的一般流程、步骤，旨在帮助没有算法基础的小白通过一个课程完成大模型开发的基础入门。同时，我们也对项目本身做了清晰、全面的逐层规划及封装，实现了不同 LLM API 到项目的统一整合，帮助开发者能够自由、统一调用不同 LLM，充分降低学习门槛。

## 内容简介

「动手学大模型应用开发」是一个面向小白开发者的大模型应用开发教程，以个人知识库助手项目为实践目标，通过这个项目完成大模型开发的重点入门。

主要内容包括：
1. 大模型简介，何为大模型、大模型特点是什么、LangChain 是什么，针对小白开发者的简单介绍；
2. 如何调用大模型 API，本节介绍了国内外知名大模型产品 API 的多种调用方式，包括调用原生 API、封装为 LangChain LLM、封装为 Fastapi 等调用方式，同时将包括百度文心、讯飞星火、智谱AI等多种大模型 API 进行了统一形式封装；
3. 大模型开发流程及架构，大模型应用开发的基本流程、一般思想和「动手学大模型应用开发」的架构分析；
4. 数据库搭建，不同类型知识库文档的加载、处理，向量数据库的搭建；
5. Prompt 设计，如何设计 Prompt 来让大模型完成特定任务，Prompt Engineering 的原则和技巧有哪些；
6. 验证迭代，大模型开发如何实现验证迭代，一般的评估方法有什么；
7. 前后端开发，如何使用 Gradio、FastAPI 等框架快速开发大模型 Demo，展示应用能力。

该教程为入门级，对学习者的人工智能基础、算法基础没有任何要求，仅需要掌握基本 Python 语法、掌握初级 Python 开发技能即可。

## 示例章节演示

### 大模型开发的整体流程

教程中提到，一般可以将大模型开发分解为以下几个流程：

![开发流程](https://i.haidao.tech/202405/a20489ef83c4f1b64a816eb763f65641.png)

1. **确定目标**。在进行开发前，我们首先需要确定开发的目标，即要开发的应用的应用场景、目标人群、核心价值。对于个体开发者或小型开发团队而言，一般应先设定最小化目标，从构建一个 MVP（最小可行性产品）开始，逐步进行完善和优化。
    
2. **设计功能**。在确定开发目标后，需要设计本应用所要提供的功能，以及每一个功能的大体实现逻辑。虽然我们通过使用大模型来简化了业务逻辑的拆解，但是越清晰、深入的业务逻辑理解往往也能带来更好的 Prompt 效果。同样，对于个体开发者或小型开发团队来说，首先要确定应用的核心功能，然后延展设计核心功能的上下游功能；例如，我们想打造一款个人知识库助手，那么核心功能就是结合个人知识库内容进行问题的回答，那么其上游功能的用户上传知识库、下游功能的用户手动纠正模型回答就是我们也必须要设计实现的子功能。
    
3. **搭建整体架构**。目前，绝大部分大模型应用都是采用的特定数据库+ Prompt + 通用大模型的架构。我们需要针对我们所设计的功能，搭建项目的整体架构，实现从用户输入到应用输出的全流程贯通。一般来说，我们推荐基于 LangChain 框架进行开发。LangChain 提供了 Chain、Tool 等架构的实现，我们可以基于 LangChain 进行个性化定制，实现从用户输入到数据库再到大模型最后输出的整体架构连接。
    
4. **搭建数据库**。个性化大模型应用需要有个性化数据库进行支撑。由于大模型应用需要进行向量语义检索，一般使用诸如 chroma 的向量数据库。在该步骤中，我们需要收集数据并进行预处理，再向量化存储到数据库中。数据预处理一般包括从多种格式向纯文本的转化，例如 pdf、markdown、html、音视频等，以及对错误数据、异常数据、脏数据进行清洗。完成预处理后，需要进行切片、向量化构建出个性化数据库。
    
5. **Prompt Engineering**。优质的 Prompt 对大模型能力具有极大影响，我们需要逐步迭代构建优质的 Prompt Engineering 来提升应用性能。在该步中，我们首先应该明确 Prompt 设计的一般原则及技巧，构建出一个来源于实际业务的小型验证集，基于小型验证集设计满足基本要求、具备基本能力的 Prompt。
    
6. **验证迭代**。验证迭代在大模型开发中是极其重要的一步，一般指通过不断发现 Bad Case 并针对性改进 Prompt Engineering 来提升系统效果、应对边界情况。在完成上一步的初始化 Prompt 设计后，我们应该进行实际业务测试，探讨边界情况，找到 Bad Case，并针对性分析 Prompt 存在的问题，从而不断迭代优化，直到达到一个较为稳定、可以基本实现目标的 Prompt 版本。
    
7. **前后端搭建**。完成 Prompt Engineering 及其迭代优化之后，我们就完成了应用的核心功能，可以充分发挥大语言模型的强大能力。接下来我们需要搭建前后端，设计产品页面，让我们的应用能够上线成为产品。前后端开发是非常经典且成熟的领域，此处就不再赘述，我们将主要介绍两种快速开发 Demo 的框架：Gradio 和 Streamlit，可以帮助个体开发者迅速搭建可视化页面实现 Demo 上线。
    
8. **体验优化**。在完成前后端搭建之后，应用就可以上线体验了。接下来就需要进行长期的用户体验跟踪，记录 Bad Case 与用户负反馈，再针对性进行优化即可。

### 个人知识库助手系统架构

「动手学大模型应用开发」中的个人知识库助手项目，基于 LangChain 框架搭建，核心技术包括 LLM API 调用、向量数据库、检索问答链等。项目整体架构如下：

![知识库助手系统架构](https://i.haidao.tech/202405/32595ecbc7b010fb1e8b5cb151ada8bb.jpg)

从底向上依次分为 LLM 层、数据层、数据库层、应用层与服务层：  

1. **LLM 层**：主要基于四种流行LLM API（OpenAI-ChatGPT、百度文心、讯飞星火、智谱GLM）进行了 LLM 调用封装，支持用户以统一的入口、方式来访问不同的模型，支持随时进行模型的切换；  
2. **数据层** 主要包括个人知识库的源数据（包括 pdf、txt、md 等）以及 Embedding API，源数据经过 Embedding 处理可以被向量数据库使用；源数据需要经过 Embedding 处理才能进入向量数据库，我们在数据层自定义了智谱提供的 Embedding API 的封装，支持上层以统一方式调用智谱 Embedding 或 OpenAI Embedding。  
3. **数据库层** 数据库层主要存放了向量数据库文件。同时，我们在该层实现了源数据处理、创建向量数据库的方法。为个人知识库源数据搭建的向量数据库，在本项目中选择了 Chroma；  
4. **应用层** 为核心功能的最顶层封装，应用层封装了整个项目的全部核心功能。基于 LangChain 提供的检索问答链基类进行了进一步封装，从而支持不同模型切换以及便捷实现基于数据库的检索问答；也支持通过 model 参数来灵活切换使用的 LLM。我们实现了两个检索问答链，分别是有历史记录的 Chat_QA_Chain 和没有历史记录的 QA_Chain。
5. **服务层**：我们分别实现了 Gradio 搭建 Demo 与 FastAPI 组建 API 两种方式来支持本项目的服务访问。

通过示例章节的演示可以看出，「动手学大模型应用开发」是从零开始，全面又简短的大模型教程。对相关大模型开发理论、概念和基本技能进行了项目主导的重构，删去不需要理解的底层原理和算法细节，涵盖所有大模型开发的核心技能。

## 写到最后

教程整体时长在数小时之内，学完「动手学大模型应用开发」，你已经掌握了如何构建个人知识库助手，也恭喜你已经可以独立搭建一个大模型应用了，已经成为一名大模型应用开发者！

如果经过个人知识库助手的实践对该大模型应用开发具备较高的兴趣，你还可以阅读同为 Datawhale 出品的更多教程：

![](https://i.haidao.tech/202405/852d9f8f20c5be2c29795436d9cd5bf4.png)
其中还有「面向开发者的 LLM 入门教程」等，来学习更多、更全面的 LLM 开发技能，并动手实践解决一些开发过程中的难题，积攒自己的应用构建技巧，包括如何控制历史记忆、长短期记忆的分配、自动 Prompt 的调优、优化检索系统等。

如果你也产生出了更好的应用，也非常欢迎在[奇想星球|AIGC开发者共创社区平台](https://1aigc.cn/ 'AIGC开发者共创社区平台')发布自己的应用或是结识更多志同道合的小伙伴来一起共创。